<?php/** * 'menu-popup' Shortcode *  * @package search-and-navigation-popup * @since 1.0.0 */// Exit if accessed directlyif ( !defined( 'ABSPATH' ) ) exit;function sanpop_menu_popup_shortcode( $atts, $content = null ) {		// Shortcode Parameter	extract(shortcode_atts(array(		'enable_loader'     		=> 'true',		'popup_effect'              => 'fadein',		'speedin'                   => '300',		'speedout'                  => '300',		'delay'                   	=> '300',		'full_screen'     			=> 'true',		), $atts));		$popup_effect 			= !empty($popup_effect) 				? $popup_effect 					: 'fadein'; //slide, fadein, blur, makeway, push	$enable_loader 			= ( $enable_loader == 'false' ) 		? 'false' 							: 'true';	$full_screen 			= ( $full_screen == 'false' ) 			? 'false' 							: 'true';	$speedin 				= (!empty($speedin)) 					? $speedin 							: 300;	$speedout 				= (!empty($speedout)) 					? $speedout 						: 300;	$delay 					= (!empty($delay)) 						? $delay 							: 300;		// Enqueus required script		wp_enqueue_script('jquery-custombox-legacy');	wp_enqueue_script('jquery-custombox');			$unique = sanpop_get_unique();			ob_start();								$data_sanpop_str = '{"content":';		$data_sanpop_str .= '{"effect": "'.$popup_effect.'", "fullscreen": '.$full_screen.', "speedIn": '.$speedin.', "speedOut": '.$speedout.', "delay": '.$delay.'},';			$data_sanpop_str .= '"loader":';			$data_sanpop_str .= '{"active": '.$enable_loader.'}';				$data_sanpop_str .= '}';				?>					<a class="sanpop-link" href="javascript:void(0);" data-sanpop-<?php echo $unique;?>='<?php echo $data_sanpop_str;?>'><img src="<?php echo SANPOP_URL; ?>/assets/images/menu.png" alt="menu" /></a>				<div id="sanpop-modal-<?php echo $unique;?>" class="sanpop-modal">	      <a href="javascript:void(0);" onclick="Custombox.modal.close();" class="sanpop-close"></a>			<div class="sanpop-menu-box">			<?php wp_nav_menu( array( 'theme_location' => 'sanpop-popup-menu', 'menu_class' => 'sanpop-nav-menu' ) ); ?> 			</div>			</div>		<script>				jQuery(function() {				 jQuery(document).on('click', '[data-sanpop-<?php echo $unique;?>]', function() {					var options = jQuery(this).data('sanpop-<?php echo $unique;?>');					if (!options.content.target) {					  options.content.target = '#sanpop-modal-<?php echo $unique;?>';					}					new Custombox.modal(options).open();				  });				 }); 	  </script>						<?php	$content .= ob_get_clean();	return $content;	}// 'popup_anything' shortcodeadd_shortcode('menu-popup', 'sanpop_menu_popup_shortcode');